<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Glossarium Kanji Sederhana</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    input, textarea { width: 100%; margin-bottom: 10px; padding: 8px; }
    button { padding: 10px 20px; }
    pre { background: #f5f5f5; padding: 10px; border: 1px solid #ccc; }
  </style>
</head>
<body>
  <h2>Glossarium Kanji (Lokal)</h2>
  <input id="tanya" placeholder="Kanji (tanya)">
  <input id="jawab" placeholder="Arti (jawab)">
  <textarea id="catatan" placeholder="Catatan"></textarea>
  <button onclick="tambah()">Tambah</button>
  <h3>Data (JSON)</h3>
  <pre id="output">...</pre>

  <script>
    let glossarium = [];

    function render() {
      document.getElementById('output').textContent = JSON.stringify(glossarium, null, 2);
    }

    async function loadData() {
      try {
        const res = await fetch('g.json');
        if (!res.ok) throw new Error('Status: ' + res.status);
        glossarium = await res.json();
        render();
      } catch (e) {
        console.error('Error fetch:', e);
      }
    }

    function tambah() {
      const t = document.getElementById('tanya').value.trim();
      const j = document.getElementById('jawab').value.trim();
      const c = document.getElementById('catatan').value.trim();
      if (!t || !j) return alert('Kanji & Arti wajib diisi!');
      if (glossarium.some(e => e.tanya === t)) return alert('Duplikat brozoll!');

      glossarium.push({ tanya: t, jawab: j, catatan: c });
      render();

      document.getElementById('tanya').value = '';
      document.getElementById('jawab').value = '';
      document.getElementById('catatan').value = '';
    }

    loadData();
  </script>
</body>
</html>
